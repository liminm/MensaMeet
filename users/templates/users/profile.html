{% extends 'mensameet/base_with_navigation.html' %}

<!-- Necessary for the crispy form-->
{% load crispy_forms_tags %}

{% block content %}

<body class="d-sm-flex flex-column p-5">
    <div class="content-section">
      <div class=" card border-light mb-3 rounded">
            <div class="mx-auto">
            <img class="mt-3 ml-3 mx-auto rounded-circle account-img" alt="profile picture" src="{{ user.profile.image.url }}" style="width:250px;">
            </div>
            <div class="mx-auto">
                <h2 class="text-center account-heading">{{ user.username }}</h2>
                <p class="text-center text-secondary">{{ user.email }}</p>
                <p class="text-center text-secondary">{{ user.profile.gender }}</p>
                <p class="text-center text-secondary">{{ user.profile.about }}</p>
            </div>
        </div>

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#exampleModal">
          Edit profile
        </button><br><br>

        <div class="topics">Themen: {% for topic in user.profile.topics.all %} {{ topic }} |{% endfor %}</div><br />


        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit profile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>


              <div class="modal-body">
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <fieldset class="form-group">
                        {{ u_form|crispy }}
                        {{ p_form|crispy }}
                        {{ t_form|crispy }}
                    </fieldset>
                    <div class="form-group">
                        <button class="btn btn-outline-info" type="submit">Update</button>
                    </div>
                </form>
              </div>
            </div>
          </div>
        </div>




    </div>
</body>
{% endblock content %}
